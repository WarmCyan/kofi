#!/bin/bash

#> Any longer-running background tasks that should run on file write go here (to avoid editor delay.)
#>
#> * Updates recent notes
#> * Updates inbox
#> * Runs any output script
#> * Renders given file
#> * Reloads qutebrowser
#>
#> Arguments:
#> 1. filename of the file that was just changed
#>
#> Examples:
#> ```bash
#> nohup background-process-write $filename &
#> ```

filename=$1

set-recent $filename
create-recent
update-inbox
run-script $filename "output"
#render $filename
make | cat >> ~/IDIDATHING # for whatever reason, redirecting the ouput is important or it somehow doesn't run??
nohup qutebrowser ':reload' &
